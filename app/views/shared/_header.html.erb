<header class="py-8 w-full z-100">
  <div class="flex relative flex-shrink-0">
    <button type="button" class="px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 lg:hidden">
      <span class="sr-only">Open sidebar</span>
      <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h7" />
      </svg>
    </button>
    <div class="flex flex-1 justify-between">
      <div class="flex flex-1 space-x-6">
        <!-- FORM SEARCH -->
        <div class="w-full max-w-lg lg:max-w-xs">
            <label for="search" class="sr-only">Search</label>
            <div class="relative">
              <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                <svg class="h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                  <path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path>
                </svg>
              </div>
              <input id="search" name="search" class="block w-full rounded-xl border-0 bg-white py-1.5 pl-10 pr-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="Search" type="search">
            </div>
          </div>
        <!-- FORM SEARCH -->
        <nav class="hidden lg:flex space-x-6 items-center">
          <%
            links = [
              {
                label: "Accueil",
                path: root_path
              },
              {
                label: "A propos",
                path: page_path('a-propos')
              },
              {
                label: "Contact",
                path: page_path('contact')
              }
            ]
          %>
          <% links.each do |link| %>
            <%= link_to link[:label], link[:path], class: "font-medium #{current_page?(link[:path]) ? 'text-primary' : ''}" %>
          <% end%>
        </nav>
      </div>
      <div class="flex items-center ml-2 space-x-4 sm:ml-6 sm:space-x-6">
        <!-- Profile dropdown -->
        <div class="relative flex-shrink-0">
          <div>
            <% if user_signed_in? %>
              <div class="flex space-x-4">
                <div class="self-center px-4 border-r">
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="black" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                  </svg>
                </div>

                <div class="flex space-x-4">
                  <div class="hidden self-center md:block">
                    <%= turbo_frame_tag "practice_time_today" do %>
                      <p class="flex space-x-3 py-2 px-6 rounded-full bg-primary text-white font-medium">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span><%= current_user.practice_time_today %></span>
                      </p>
                    <% end %>
                  </div>
                  <button type="button"
                    data-action="application#sidebarShow"
                    data-application-id-param="practice_sidebar"
                    class="flex text-sm bg-white rounded-full group focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
                    id="user-menu-button" aria-expanded="false" aria-haspopup="true">
                    <span class="sr-only">Open user menu</span>
                    <%= render partial: "users/avatar", locals: {user: current_user, size: :medium} %>
                    <%#= render partial: "users/dropdown" %>
                  </button>
                </div>

              </div>
            <% else %>
              <div class="flex">
                <%= link_to "Se connecter", new_user_session_path, class: "uppercase text-xs mr-3"  %>
                <%= link_to "S'inscrire", new_user_registration_path, class: "uppercase text-xs"  %>
              </div>
            <% end %>
          </div>
        </div>

      </div>
    </div>
  </div>
</header>
